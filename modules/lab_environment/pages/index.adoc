= Network Diagram of the Lab Environment

This document describes the lab environment for the Red Hat OpenStack Platform 17.1 to 18 migration.

== Overview

The lab environment consists of two main components:

* *RHOSP 17.1* - The source environment RHOSP 17.1 to be adopted to RHOSO 18
* *RHOSO 18* - The target environment RHOSO 18 to be created from the RHOSP 17.1 environment

The environment includes multiple node types serving different roles in the OpenStack infrastructure, with dedicated networks for various types of traffic including student, storage, management, tenant, and external connectivity.

== Network Diagram

The following diagram illustrates the network topology and connections between the RHOSP 17.1 environment and the future RHOSO 18 environment:

image::common:environment.png[Lab Environment Network Diagram]

The diagram shows:

* *Lab Environment:*
** Workstation (Jump host for Student network access)
** Utility node (Multiple network connections)

* *RHOSP 17.1 Components:*

** Director node (OpenStack deployment and management)
** RHOSP 17.1 Controllers (High availability cluster)
** Networker node (Network services)
** RHOSP 17.1 Compute nodes (Virtualization hosts)
** Ceph storage cluster

* *RHOSO 18 Components:*
** OCP master/workers (Running containerized OpenStack services)

* *Network Segments:*
** Classroom Network (172.25.252.0/24)
** Student Network (172.25.250.0/24) - Acting as an external network
** Storage Network (192.168.50.0/24)
** Storage Management Network (192.168.51.0/24) - Not used
** Internal API Network (192.168.52.0/24)
** Tenant Network (192.168.53.0/24)
** Control Plane Network (172.25.249.0/24)
** External2 Network (10.1.0.0/16) - Not used

== Network Configuration

The following table provides detailed IP address assignments for each node across all network segments:

[cols="1,1,1,1,1,1,1,1,1", options="header"]
|===
|Node |Classroom Network 172.25.252.0/24 |Student Network 172.25.250.0/24 |Storage Network 192.168.50.0/24 |Storage Mgmt Network 192.168.51.0/24 |Internal API Network 192.168.52.0/24 |Tenant Network 192.168.53.0/24 |Control Plane Network 172.25.249.0/24 |External2 Network 10.1.0.0/16

|Classroom
|172.25.252.254
|
|
|
|
|
|
|

|Bastion
|172.25.252.1
|172.25.250.254
|
|
|
|
|
|

|Workstation
|
|172.25.250.9
|
|
|
|
|
|

|Utility
|
|172.25.250.253
|192.168.50.254
|192.168.51.254
|
|
|172.25.249.253
|10.1.0.254

|Registry
|
|172.25.250.249
|192.168.50.50
|
|
|
|
|10.1.0.249

|Server
|
|172.25.250.251
|
|192.168.51.40
|
|
|
|10.1.0.40

|Networker
|
|172.25.250.250
|
|
|192.168.52.250
|192.168.53.250
|172.25.249.250
|

|Power
|
|172.25.250.30
|
|
|
|
|172.25.249.30
|

|IDM
|
|172.25.250.248
|192.168.50.40
|
|
|
|
|10.1.0.253

|Master01
|
|172.25.250.10
|192.168.50.10
|192.168.51.10
|192.168.52.10
|192.168.53.10
|172.25.249.10
|

|Master02
|
|172.25.250.11
|192.168.50.11
|192.168.51.11
|192.168.52.11
|192.168.53.11
|172.25.249.11
|

|Master03
|
|172.25.250.12
|192.168.50.12
|192.168.51.12
|192.168.52.12
|192.168.53.12
|172.25.249.12
|

|Director
|
|172.25.250.15
|192.168.50.15
|192.168.51.15
|192.168.52.15
|192.168.53.15
|172.25.249.15
|

|Controller0
|
|172.25.250.16
|192.168.50.16
|192.168.51.16
|192.168.52.16
|192.168.53.16
|172.25.249.16
|

|Controller1
|
|172.25.250.17
|192.168.50.17
|192.168.51.17
|192.168.52.17
|192.168.53.17
|172.25.249.17
|

|Controller2
|
|172.25.250.18
|192.168.50.18
|192.168.51.18
|192.168.52.18
|192.168.53.18
|172.25.249.18
|

|Compute0
|
|172.25.250.19
|192.168.50.19
|192.168.51.19
|192.168.52.19
|192.168.53.19
|172.25.249.19
|

|Compute1
|
|172.25.250.20
|192.168.50.20
|192.168.51.20
|192.168.52.20
|192.168.53.20
|172.25.249.20
|

|Compute2
|
|172.25.250.21
|192.168.50.21
|192.168.51.21
|192.168.52.21
|192.168.53.21
|192.25.249.21
|

|Ceph
|
|172.25.250.252
|192.168.50.30
|
|
|
|
|10.1.0.252

|===

