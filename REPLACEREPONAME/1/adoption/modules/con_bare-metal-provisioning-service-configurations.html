<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{bare_metal} configurations :: Upgrade a RHOSP 17.1 to RHOSO 18 using the adoption mechanism</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../../..">Upgrade a RHOSP 17.1 to RHOSO 18 using the adoption mechanism</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="REPLACEREPONAME" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">FIXME Course Title</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Upgrade a RHOSP 17.1 to RHOSO 18 using the adoption mechanism</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../prereqs.html">Perform OpenShift Prerequisite</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-operators.html">Install the Red Hat OpenStack Platform Service Operators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-isolation.html">Prepare OCP for OpenStack Network Isolation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../adoption-overview.html">RHOSP 17.1 to RHOSO 18 adoption overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating-databases.html">Migrating RHOSP 17.1 Database to RHOSO 18</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../adoption-cp.html">Control plane Adoption</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../adoption-dp.html">Option - Data plane Adoption</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">FIXME Course Title</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">FIXME Course Title</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">FIXME Course Title</a></li>
    <li><a href="con_bare-metal-provisioning-service-configurations.html">{bare_metal} configurations</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">{bare_metal} configurations</h1>
<div class="paragraph _abstract">
<p>You configure the {bare_metal_first_ref} by using configuration snippets. For more information about configuring the control plane with the {bare_metal}, see <a href="{customizing-rhoso}/index">{customizing-rhoso-t}</a>.</p>
</div>
<div class="paragraph">
<p>Some {bare_metal} configuration is overridden in {OpenStackPreviousInstaller}, for example, PXE Loader file names are often overridden at intermediate layers. You must pay attention to the settings you apply in your {rhos_long} deployment. The <code>ironic-operator</code> applies a reasonable working default configuration, but if you override them with your prior configuration, your experience might not be ideal or your new {bare_metal} fails to operate. Similarly, additional configuration might be necessary, for example, if you enable and use additional hardware types in your <code>ironic.conf</code> file.</p>
</div>
<div class="paragraph">
<p>The model of reasonable defaults includes commonly used hardware-types and driver interfaces. For example, the <code>redfish-virtual-media</code> boot interface and the <code>ramdisk</code> deploy interface are enabled by default. If you add new bare metal nodes after the adoption is complete, the driver interface selection occurs based on the order of precedence in the configuration if you do not explicitly set it on the node creation request or as an established default in the <code>ironic.conf</code> file.</p>
</div>
<div class="paragraph">
<p>Some configuration parameters do not need to be set on an individual node level, for example, network UUID values, or they are centrally configured in the <code>ironic.conf</code> file, as the setting controls security behavior.</p>
</div>
<div class="paragraph">
<p>It is critical that you maintain the following parameters that you configured and formatted as <code>[section]</code> and parameter name from the prior deployment to the new deployment. These parameters that govern the underlying behavior and values in the previous configuration would have used specific values if set.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>[neutron]cleaning_network</p>
</li>
<li>
<p>[neutron]provisioning_network</p>
</li>
<li>
<p>[neutron]rescuing_network</p>
</li>
<li>
<p>[neutron]inspection_network</p>
</li>
<li>
<p>[conductor]automated_clean</p>
</li>
<li>
<p>[deploy]erase_devices_priority</p>
</li>
<li>
<p>[deploy]erase_devices_metadata_priority</p>
</li>
<li>
<p>[conductor]force_power_state_during_sync</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can set the following parameters individually on a node. However, you might choose to use embedded configuration options to avoid the need to set the parameters individually when creating or managing bare metal nodes. Check your prior <code>ironic.conf</code> file for these parameters, and if set, apply a specific override configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>[conductor]bootloader</p>
</li>
<li>
<p>[conductor]rescue_ramdisk</p>
</li>
<li>
<p>[conductor]rescue_kernel</p>
</li>
<li>
<p>[conductor]deploy_kernel</p>
</li>
<li>
<p>[conductor]deploy_ramdisk</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The instances of <code>kernel_append_params</code>, formerly <code>pxe_append_params</code> in the <code>[pxe]</code> and <code>[redfish]</code> configuration sections, are used to apply boot time options like "console" for the deployment ramdisk and as such often must be changed.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You cannot migrate hardware types that are set with the <code>ironic.conf</code> file <code>enabled_hardware_types</code> parameter, and hardware type driver interfaces starting with <code>staging-</code> into the adopted configuration.
</td>
</tr>
</table>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
